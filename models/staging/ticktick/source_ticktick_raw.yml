version: 2
sources:
  - name: ticktick_raw
    schema: ticktick_raw
    description: raw data from ticktick api with dbt snapshot to indicate completion timestamps
    tables:
      - name: tasks
        description: raw tasks data

        columns:
          - name: parentId
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: reminders
            config:
              meta: {}
              tags: []
            data_type: ARRAY<STRING>
          - name: dueDate
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: completedTime
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: repeatFlag
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: kind
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: etag
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: tags
            config:
              meta: {}
              tags: []
            data_type: ARRAY<STRING>
          - name: childIds
            config:
              meta: {}
              tags: []
            data_type: ARRAY<STRING>
          - name: startDate
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: isAllDay
            config:
              meta: {}
              tags: []
            data_type: BOOLEAN
          - name: columnId
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: status
            config:
              meta: {}
              tags: []
            data_type: INT64
          - name: priority
            config:
              meta: {}
              tags: []
            data_type: INT64
          - name: timeZone
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: title
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: sortOrder
            config:
              meta: {}
              tags: []
            data_type: INT64
          - name: projectId
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: id
            config:
              meta: {}
              tags: []
            data_type: STRING
      - name: tasks_snapshot
        description: >-
          automatically snapshot table (outside of this project) to infer ONLY completed, non repeat tasks.

        columns:
          - name: dbt_valid_from
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: parentId
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: reminders
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: dueDate
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: completedTime
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: repeatFlag
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: kind
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: etag
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: dbt_scd_id
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: tags
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: childIds
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: startDate
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: isAllDay
            config:
              meta: {}
              tags: []
            data_type: BOOLEAN
          - name: columnId
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: status
            config:
              meta: {}
              tags: []
            data_type: INT64
          - name: priority
            config:
              meta: {}
              tags: []
            data_type: INT64
          - name: dbt_updated_at
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: timeZone
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: title
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: dbt_valid_to
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: sortOrder
            config:
              meta: {}
              tags: []
            data_type: INT64
          - name: projectId
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: id
            config:
              meta: {}
              tags: []
            data_type: STRING
      - name: projects
        description: raw project data


        columns:
          - name: closed
            config:
              meta: {}
              tags: []
            data_type: BOOLEAN
          - name: permission
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: color
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: kind
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: groupId
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: sortOrder
            config:
              meta: {}
              tags: []
            data_type: INT64
          - name: viewMode
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: name
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: id
            config:
              meta: {}
              tags: []
            data_type: STRING
      - name: projects_snapshot
        description: >-
          automatically snapshot table (outside of this project) to infer ONLY completed projects.
        columns:
          - name: dbt_valid_from
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: dbt_scd_id
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: id
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: closed
            config:
              meta: {}
              tags: []
            data_type: BOOLEAN
          - name: kind
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: permission
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: dbt_valid_to
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: sortOrder
            config:
              meta: {}
              tags: []
            data_type: INT64
          - name: color
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: dbt_updated_at
            config:
              meta: {}
              tags: []
            data_type: TIMESTAMP
          - name: groupId
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: viewMode
            config:
              meta: {}
              tags: []
            data_type: STRING
          - name: name
            config:
              meta: {}
              tags: []
            data_type: STRING

      - name: tasks_v3
        description: TickTick v3 task replica exported from poller parquet emitter
        columns:
          - name: task_id
            data_type: STRING
          - name: account_id
            data_type: STRING
          - name: project_id
            data_type: STRING
          - name: title
            data_type: STRING
          - name: content
            data_type: STRING
          - name: status
            data_type: INT64
          - name: deleted
            data_type: INT64
          - name: completed_time
            data_type: TIMESTAMP
          - name: completed_user_id
            data_type: STRING
          - name: created_time
            data_type: TIMESTAMP
          - name: modified_time
            data_type: TIMESTAMP
          - name: kind
            data_type: STRING
          - name: column_id
            data_type: STRING
          - name: etag
            data_type: STRING
          - name: raw_json
            data_type: STRING
          - name: updated_at
            data_type: TIMESTAMP
      - name: projects_v3
        description: TickTick v3 project replica exported from poller parquet emitter
        columns:
          - name: project_id
            data_type: STRING
          - name: account_id
            data_type: STRING
          - name: name
            data_type: STRING
          - name: group_id
            data_type: STRING
          - name: closed
            data_type: INT64
          - name: sort_order
            data_type: INT64
          - name: kind
            data_type: STRING
          - name: view_mode
            data_type: STRING
          - name: modified_time
            data_type: TIMESTAMP
          - name: etag
            data_type: STRING
          - name: raw_json
            data_type: STRING
          - name: updated_at
            data_type: TIMESTAMP
      - name: groups_v3
        description: TickTick v3 project-group replica exported from poller parquet emitter
        columns:
          - name: group_id
            data_type: STRING
          - name: account_id
            data_type: STRING
          - name: name
            data_type: STRING
          - name: deleted
            data_type: INT64
          - name: sort_order
            data_type: INT64
          - name: sort_type
            data_type: STRING
          - name: etag
            data_type: STRING
          - name: raw_json
            data_type: STRING
          - name: updated_at
            data_type: TIMESTAMP